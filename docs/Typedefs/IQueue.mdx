---
id: typedefs-IQueue
title: "Interface: IQueue"
description: Defines the contract for all queue implementations, providing asynchronous track management operations.
slug: /typedefs/IQueue
sidebar_label: IQueue
---

> `IQueue` is the base contract for all queue implementations in Magmastream.  
> All queue types (e.g., in-memory, Redis-backed) have these methods exactly as defined.  
> This ensures consistent track handling across different storage backends.
> 
> | <i className="fa-solid fa-hashtag"/> Method | <i className="fa-solid fa-font"/> Type Signature       | <i className="fa-solid fa-list"/> Description                                                                          |
> |:--------------------------------------------|:-------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------|
> | `getCurrent()`                              | Promise&lt;[`Track`](./Track.mdx) &#124; null&gt;      | Returns the track currently being played, or `null` if the queue is empty.                                             |
> | `setCurrent(track)`                         | Promise&lt;void&gt;                                    | Sets the track currently being played. Pass `null` to clear it.                                                        |
> | `getPrevious()`                             | Promise&lt;[`Track`](./Track.mdx)[]&gt;                | Returns all previously played tracks, ordered from newest to oldest.                                                   |
> | `addPrevious(track)`                        | Promise&lt;void&gt;                                    | Adds one or more tracks to the "previous" history list.                                                                |
> | `setPrevious(track)`                        | Promise&lt;void&gt;                                    | Replaces the previous track list with the provided track(s).                                                           |
> | `popPrevious()`                             | Promise&lt;[`Track`](./Track.mdx) &#124; null&gt;      | Removes and returns the most recently played track (index `0` in history), or `null` if none.                          |
> | `clearPrevious()`                           | Promise&lt;void&gt;                                    | Clears the history of previously played tracks.                                                                        |
> | `size()`                                    | Promise&lt;number&gt;                                  | Returns the number of tracks currently queued (excluding the currently playing track).                                 |
> | `totalSize()`                               | Promise&lt;number&gt;                                  | Returns the total number of tracks in the queue, including the currently playing one.                                  |
> | `duration()`                                | Promise&lt;number&gt;                                  | Returns the total duration (in milliseconds) of all queued tracks.                                                     |
> | `add(track, offset?)`                       | Promise&lt;void&gt;                                    | Adds one or more tracks to the queue. Optionally insert at a specific `offset`.                                        |
> | `remove(start?, end?)`                      | Promise&lt;[`Track`](./Track.mdx)[]&gt;                | Removes one or more tracks by index range and returns the removed tracks.                                              |
> | `clear()`                                   | Promise&lt;void&gt;                                    | Removes all tracks from the queue.                                                                                     |
> | `dequeue()`                                 | Promise&lt;[`Track`](./Track.mdx) &#124; undefined&gt; | Removes and returns the next track in the queue (FIFO order).                                                          |
> | `enqueueFront(track)`                       | Promise&lt;void&gt;                                    | Adds one or more tracks to the front of the queue.                                                                     |
> | `getTracks()`                               | Promise&lt;[`Track`](./Track.mdx)[]&gt;                | Returns all queued tracks in order.                                                                                    |
> | `getSlice(start?, end?)`                    | Promise&lt;[`Track`](./Track.mdx)[]&gt;                | Returns a subset of the queued tracks by index range without removing them.                                            |
> | `modifyAt(start, deleteCount?, ...items)`   | Promise&lt;[`Track`](./Track.mdx)[]&gt;                | Removes `deleteCount` tracks starting at `start`, replacing them with `items` if provided. Returns the removed tracks. |
> | `shuffle()`                                 | Promise&lt;void&gt;                                    | Randomly shuffles all tracks in the queue.                                                                             |
> | `userBlockShuffle()`                        | Promise&lt;void&gt;                                    | Shuffles the queue while keeping tracks from the same user grouped together.                                           |
> | `roundRobinShuffle()`                       | Promise&lt;void&gt;                                    | Shuffles tracks so that users are rotated fairly in playback order.                                                    |
> | `mapAsync(callback)`                        | Promise&lt;T[]&gt;                                     | Runs `callback` for each track, returning the results as an array.                                                     |
> | `filterAsync(callback)`                     | Promise&lt;[`Track`](./Track.mdx)[]&gt;                | Returns all tracks for which `callback` returns `true`.                                                                |
> | `findAsync(callback)`                       | Promise&lt;[`Track`](./Track.mdx) &#124; undefined&gt; | Returns the first track for which `callback` returns `true`, or `undefined` if none match.                             |
> | `someAsync(callback)`                       | Promise&lt;boolean&gt;                                 | Returns `true` if any track passes the `callback` test.                                                                |
> | `everyAsync(callback)`                      | Promise&lt;boolean&gt;                                 | Returns `true` only if all tracks pass the `callback` test.                                                            |
