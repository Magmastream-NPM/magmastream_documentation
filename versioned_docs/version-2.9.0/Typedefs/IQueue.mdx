---
id: typedefs-IQueue
title: "Interface: IQueue"
description: Defines the contract for all queue implementations, providing asynchronous track management operations.
slug: /typedefs/IQueue
sidebar_label: IQueue
---

> `IQueue` is the base contract for all queue implementations in Magmastream.  
> All queue types (e.g., in-memory, Redis-backed) have these methods exactly as defined.  
> This ensures consistent track handling across different storage backends.

> | <i className="fa-solid fa-hashtag"/> Method | <i className="fa-solid fa-font"/> Type Signature                                                                                            | <i className="fa-solid fa-list"/> Description                                                                          |
> |:--------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------|
> | `getCurrent()`                              | Promise\<[`Track`](./Track.mdx) \| [null](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/null)>                | Returns the track currently being played, or `null` if the queue is empty.                                             |
> | `setCurrent(track)`                         | Promise\<[void](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void)>                                          | Sets the track currently being played. Pass `null` to clear it.                                                        |
> | `getPrevious()`                             | Promise\<[`Track[]`](./Track.mdx)>                                                                                                          | Returns all previously played tracks, ordered from newest to oldest.                                                   |
> | `addPrevious(track)`                        | Promise\<[void](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void)>                                          | Adds one or more tracks to the "previous" history list.                                                                |
> | `setPrevious(track)`                        | Promise\<[void](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void)>                                          | Replaces the previous track list with the provided track(s).                                                           |
> | `popPrevious()`                             | Promise\<[`Track`](./Track.mdx) \| [null](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/null)>                | Removes and returns the most recently played track (index `0` in history), or `null` if none.                          |
> | `clearPrevious()`                           | Promise\<[void](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void)>                                          | Clears the history of previously played tracks.                                                                        |
> | `size()`                                    | Promise\<[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)>                                 | Returns the number of tracks currently queued (excluding the currently playing track).                                 |
> | `totalSize()`                               | Promise\<[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)>                                 | Returns the total number of tracks in the queue, including the currently playing one.                                  |
> | `duration()`                                | Promise\<[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)>                                 | Returns the total duration (in milliseconds) of all queued tracks.                                                     |
> | `add(track, offset?)`                       | Promise\<[void](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void)>                                          | Adds one or more tracks to the queue. Optionally insert at a specific `offset`.                                        |
> | `remove(start?, end?)`                      | Promise\<[`Track[]`](./Track.mdx)>                                                                                                          | Removes one or more tracks by index range and returns the removed tracks.                                              |
> | `clear()`                                   | Promise\<[void](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void)>                                          | Removes all tracks from the queue.                                                                                     |
> | `dequeue()`                                 | Promise\<[`Track`](./Track.mdx) \| [undefined](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined)> | Removes and returns the next track in the queue (FIFO order).                                                          |
> | `enqueueFront(track)`                       | Promise\<[void](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void)>                                          | Adds one or more tracks to the front of the queue.                                                                     |
> | `getTracks()`                               | Promise\<[`Track[]`](./Track.mdx)>                                                                                                          | Returns all queued tracks in order.                                                                                    |
> | `getSlice(start?, end?)`                    | Promise\<[`Track[]`](./Track.mdx)>                                                                                                          | Returns a subset of the queued tracks by index range without removing them.                                            |
> | `modifyAt(start, deleteCount?, ...items)`   | Promise\<[`Track[]`](./Track.mdx)>                                                                                                          | Removes `deleteCount` tracks starting at `start`, replacing them with `items` if provided. Returns the removed tracks. |
> | `shuffle()`                                 | Promise\<[void](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void)>                                          | Randomly shuffles all tracks in the queue.                                                                             |
> | `userBlockShuffle()`                        | Promise\<[void](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void)>                                          | Shuffles the queue while keeping tracks from the same user grouped together.                                           |
> | `roundRobinShuffle()`                       | Promise\<[void](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void)>                                          | Shuffles tracks so that users are rotated fairly in playback order.                                                    |
> | `mapAsync(callback)`                        | Promise\<T[]>                                                                                                                               | Runs `callback` for each track, returning the results as an array.                                                     |
> | `filterAsync(callback)`                     | Promise\<[`Track[]`](./Track.mdx)>                                                                                                          | Returns all tracks for which `callback` returns `true`.                                                                |
> | `findAsync(callback)`                       | Promise\<[`Track`](./Track.mdx) \| [undefined](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined)> | Returns the first track for which `callback` returns `true`, or `undefined` if none match.                             |
> | `someAsync(callback)`                       | Promise\<[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)>                               | Returns `true` if any track passes the `callback` test.                                                                |
> | `everyAsync(callback)`                      | Promise\<[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)>                               | Returns `true` only if all tracks pass the `callback` test.                                                            |
